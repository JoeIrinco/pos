select sum(`vallery`.`transaction_items`.`quantity`) AS `TotalQuantity`,`vallery`.`transaction_items`.`id` AS `id`,`vallery`.`transaction_items`.`transaction_id` AS `transaction_id`,`vallery`.`transaction_items`.`cancelled_id` AS `cancelled_id`,`vallery`.`transaction_items`.`user_id` AS `user_id`,`vallery`.`transaction_items`.`invoice_num` AS `invoice_num`,`vallery`.`transaction_items`.`po_id` AS `po_id`,`vallery`.`transaction_items`.`product_id` AS `product_id`,`vallery`.`transaction_items`.`units` AS `units`,`vallery`.`transaction_items`.`item_id` AS `item_id`,`vallery`.`transaction_items`.`price` AS `price`,`vallery`.`transaction_items`.`transaction_type` AS `transaction_type`,`vallery`.`transaction_items`.`quantity` AS `quantity`,`vallery`.`transaction_items`.`lot_no` AS `lot_no`,`vallery`.`transaction_items`.`location_address` AS `location_address`,`vallery`.`transaction_items`.`shelf` AS `shelf`,`vallery`.`transaction_items`.`rock` AS `rock`,`vallery`.`transaction_items`.`expiration_date` AS `expiration_date`,`vallery`.`transaction_items`.`remarks` AS `remarks`,`vallery`.`transaction_items`.`status` AS `status`,`vallery`.`transaction_items`.`created_at` AS `created_at`,`vallery`.`transaction_items`.`updated_at` AS `updated_at`,`vallery`.`store_product_lists`.`productname` AS `productname`,`vallery`.`store_product_lists`.`product_description` AS `product_description`,`vallery`.`store_product_lists`.`product_code` AS `product_code`,`vallery`.`transaction_items`.`id` AS `TI_id`,`vallery`.`store_product_lists`.`critical_alert` AS `critical_alert`,`vallery`.`transaction_items`.`product_id` AS `product_id_data`,`vallery`.`store_product_lists`.`unit` AS `unit`,`vallery`.`store_product_lists`.`brand` AS `brand` from (`vallery`.`transaction_items` join `vallery`.`store_product_lists` on(`vallery`.`store_product_lists`.`id` = `vallery`.`transaction_items`.`product_id`)) where `vallery`.`transaction_items`.`transaction_type` = 'RECEIVE PO' or `vallery`.`transaction_items`.`transaction_type` = 'RELOCATED' or `vallery`.`transaction_items`.`transaction_type` = 'MANUAL ADD' or `vallery`.`transaction_items`.`transaction_type` = 'REPLACE_INVOICE' or `vallery`.`transaction_items`.`transaction_type` = 'IMPORT' or `vallery`.`transaction_items`.`transaction_type` = 'DELETED' group by `vallery`.`transaction_items`.`location_address`,`vallery`.`transaction_items`.`lot_no`,`vallery`.`transaction_items`.`product_id`,`vallery`.`transaction_items`.`expiration_date`,`vallery`.`transaction_items`.`rock`,`vallery`.`transaction_items`.`shelf` order by sum(`vallery`.`transaction_items`.`quantity`)